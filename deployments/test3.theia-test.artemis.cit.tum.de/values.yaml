hosts:
  configuration:
    &hostsConfig # This is a YAML anchor for reusability and readability
    baseHost: theia-test.artemis.cit.tum.de
    service: service.test3
    landing: test3
    instance: instance.test3

theia-certificates:
  hosts:
    configuration: *hostsConfig

theia-cloud:
  app:
    id: nJV3nKZmpxTD4wu2
    name: Artemis Online IDE (Test3)

  issuer:
    email: ls1.itg@in.tum.de

  hosts:
    configuration: *hostsConfig
    allWildcardInstances: ["*.webview."]

  ingress:
    #instanceName: "theia-cloud-ws-ingress"
    clusterIssuer: letsencrypt-prod
    certManagerAnnotations: false
    instances:
      allWildcardSecretNames: { "*.webview.": static-theia-cert }

  monitor:
    enable: true
    activityTracker:
      enable: true
      interval: 3

  operator:
    image: ghcr.io/ls1intum/theia/operator:pr-70
    #eagerStart: false
    replicas: 1
    sessionsPerUser: 10
    storageClassName: longhorn
    resources:
      requests:
        ephemeral-storage: "128Mi"
      limits:
        ephemeral-storage: "256Mi"

  service:
    image: ghcr.io/ls1intum/theia/service:pr-70

  preloading:
    images:
      - ghcr.io/ls1intum/theia/landing-page:latest
      - ghcr.io/ls1intum/theia/java-17:latest
      - ghcr.io/ls1intum/theia/c:latest
      - ghcr.io/ls1intum/theia/javascript:latest
      - ghcr.io/ls1intum/theia/ocaml:latest
      - ghcr.io/ls1intum/theia/rust:latest
      - ghcr.io/ls1intum/theia/python:latest
      - ghcr.io/ls1intum/theia/theia-no-ls:pr-80
      - ghcr.io/ls1intum/theia/langserver-java:pr-80

  imagePullPolicy: Always

  # Do not install demoApplication
  demoApplication:
    install: false

  landingPage:
    # We use the try now page as landing page since the default does not support mutliple apps -> https://github.com/eclipsesource/theia-cloud/discussions/301
    image: ghcr.io/ls1intum/theia/landing-page
    # We can define a default blueprint
    
    # 1. The actual image data (Must be a Base64 encoded string)
    # You can get this by running: cat my-logo.png | base64 | pbcopy
    #logoData: "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg=="
    
    # 2. (Optional) If you removed the 'hardcoded png' logic in the template, 
    # you might need this. If you used my simplified template, this is ignored.
    logoFileExtension: "png"
    appDefinition: "java-ls-test"
    ephemeralStorage: true
    additionalApps:
      java-ls-test:
        label: Java with External Language Server (PR #80 Test)
    infoTitle: "üöÄ Welcome to Test3 IDE Environment"
    infoText: "This is a testing environment for Theia Cloud. Select your programming language and start coding in seconds!"
    loadingText: "‚ö° Setting up your development workspace..."
    footerLinks:
      attribution:
        text: "Built by TUM LS1 Team üë®‚Äçüíª"
        url: "https://aet.cit.tum.de/"
        version: "Test3-v1.0.0"
      bugReport:
        text: "Report a bug üêõ"
        url: "https://github.com/ls1intum/theia-cloud/issues"
      featureRequest:
        text: "Request a feature ‚ú®"
        url: "https://github.com/ls1intum/theia-cloud/issues"
      about:
        text: "About"
        url: "https://aet.cit.tum.de/"

  keycloak:
    enable: true

    # -- Key cloak auth URL. Only has to be specified when enable: true
    authUrl: "https://keycloak.ase.in.tum.de/"

    # -- The Keycloak Realm. Only has to be specified when enable: true
    realm: "Test"

    # -- The client-id. Only has to be specified when enable: true
    clientId: "theia-test"

theia-appdefinitions:
  apps:
    - name: java-ls-test
      image: ghcr.io/ls1intum/theia/theia-no-ls
      imageTag: pr-80
      options:
        langserver-image: ghcr.io/ls1intum/theia/langserver-java:pr-80

monitoring:
  targetNamespaces:
    - test3
  sessionNamespaces:
    - test3
